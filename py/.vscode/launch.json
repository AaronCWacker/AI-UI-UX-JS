{
  "version": "0.2.0",
  "compounds": [
    {
      "name": "Start ALL Servers (FastAPI+Streamlit+Gradio)",
      "configurations": [
        "FastAPI Primary :8000",
        "FastAPI Secondary :8001",
        "Streamlit Primary :8501",
        "Streamlit Secondary :8502",
        "Gradio Primary :7860",
        "Gradio Secondary :7861"
      ]
    },
    {
      "name": "Start ALL Monitors (FastAPI+Streamlit+Gradio)",
      "configurations": [
        "Monitor FastAPI 8000-8001",
        "Monitor Streamlit 8501-8502",
        "Monitor Gradio 7860-7861"
      ]
    }
  ],
  "configurations": [
    {
      "name": "FastAPI Primary :8000",
      "type": "python",
      "request": "launch",
      "module": "uvicorn",
      "args": ["fastapi_app:app", "--host", "0.0.0.0", "--port", "8000"],
      "env": { "APP_NAME": "fastapi-primary", "PORT": "8000" },
      "cwd": "${workspaceFolder}/py",
      "console": "integratedTerminal"
    },
    {
      "name": "FastAPI Secondary :8001",
      "type": "python",
      "request": "launch",
      "module": "uvicorn",
      "args": ["fastapi_app:app", "--host", "0.0.0.0", "--port", "8001"],
      "env": { "APP_NAME": "fastapi-secondary", "PORT": "8001" },
      "cwd": "${workspaceFolder}/py",
      "console": "integratedTerminal"
    },

    {
      "name": "Streamlit Primary :8501",
      "type": "python",
      "request": "launch",
      "module": "streamlit",
      "args": ["run", "streamlit_app.py", "--server.port", "8501", "--server.address", "0.0.0.0"],
      "env": { "APP_NAME": "streamlit-primary", "PORT": "8501" },
      "cwd": "${workspaceFolder}/py",
      "console": "integratedTerminal"
    },
    {
      "name": "Streamlit Secondary :8502",
      "type": "python",
      "request": "launch",
      "module": "streamlit",
      "args": ["run", "streamlit_app.py", "--server.port", "8502", "--server.address", "0.0.0.0"],
      "env": { "APP_NAME": "streamlit-secondary", "PORT": "8502" },
      "cwd": "${workspaceFolder}/py",
      "console": "integratedTerminal"
    },

    {
      "name": "Gradio Primary :7860",
      "type": "python",
      "request": "launch",
      "module": "uvicorn",
      "args": ["gradio_app:api", "--host", "0.0.0.0", "--port", "7860"],
      "env": { "APP_NAME": "gradio-primary", "PORT": "7860" },
      "cwd": "${workspaceFolder}/py",
      "console": "integratedTerminal"
    },
    {
      "name": "Gradio Secondary :7861",
      "type": "python",
      "request": "launch",
      "module": "uvicorn",
      "args": ["gradio_app:api", "--host", "0.0.0.0", "--port", "7861"],
      "env": { "APP_NAME": "gradio-secondary", "PORT": "7861" },
      "cwd": "${workspaceFolder}/py",
      "console": "integratedTerminal"
    },

    {
      "name": "Monitor FastAPI 8000-8001",
      "type": "python",
      "request": "launch",
      "program": "${workspaceFolder}/py/monitor_caller.py",
      "args": ["--tech", "fastapi", "--port-from", "8000", "--port-to", "8001", "--interval-s", "30"],
      "cwd": "${workspaceFolder}/py",
      "console": "integratedTerminal"
    },
    {
      "name": "Monitor Streamlit 8501-8502",
      "type": "python",
      "request": "launch",
      "program": "${workspaceFolder}/py/monitor_caller.py",
      "args": ["--tech", "streamlit", "--port-from", "8501", "--port-to", "8502", "--interval-s", "30"],
      "cwd": "${workspaceFolder}/py",
      "console": "integratedTerminal"
    },
    {
      "name": "Monitor Gradio 7860-7861",
      "type": "python",
      "request": "launch",
      "program": "${workspaceFolder}/py/monitor_caller.py",
      "args": ["--tech", "gradio", "--port-from", "7860", "--port-to", "7861", "--interval-s", "30"],
      "cwd": "${workspaceFolder}/py",
      "console": "integratedTerminal"
    }
  ]
}
